<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd" 
       xmlns:context="http://www.springframework.org/schema/context">

    <bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"/>
    <context:annotation-config/>

    <!--
        Setup spring to pull in @Controller, @RequestMapping, etc Configuration scans specified packages
        for classes configured as Spring managed beans and automatically sets up objects annotated with
        @Controller, @Service etc.
    -->
    <context:component-scan base-package="com.povodev.hemme.rest" />
    <context:component-scan base-package="com.povodev.hemme.jdbcdao" />



<!--
    Most controllers will use the ControllerClassNameHandlerMapping above, but
    for the index controller we are using ParameterizableViewController, so we must
    define an explicit mapping for it.
    -->

    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="index.htm">indexController</prop>
              
                <!--ClinicalEvent-->
                <prop key="getClinicalEvent.htm">clinicalEventController</prop>
                <prop key="getClinicalEvents.htm">clinicalEventController</prop>

                <!--ClinicalFolder-->
                <prop key="getClinicalFolder.htm">clinicalFolderController</prop>
                <prop key="newClinicalFolder.htm">clinicalFolderController</prop>

                <!--Diary-->
                <prop key="getDiary.htm">diaryController</prop>
                <prop key="newDiary.htm">diaryController</prop>

                <!--Doctor-->
                <prop key="getDoctor.htm">doctorController</prop>
                <prop key="newDoctor.htm">doctorController</prop>

                <!--Document-->
                <prop key="getDocument.htm">documentController</prop>
                <prop key="newDocument.htm">documentController</prop>
                
                <!--User-->
                <prop key="getUser.htm">userController</prop>
                <prop key="registration.htm">userController</prop>
                <prop key="login.htm">userController</prop>
                
                <!-- Tutor -->
                <prop key="insertEvent">tutorController</prop>
                
                <!-- Result-->
                <prop key="getResult.htm">resultController</prop>
                
                
                
            </props>
        </property>
    </bean>

    <bean id="viewResolver"
          class="org.springframework.web.servlet.view.InternalResourceViewResolver"
          p:prefix="/WEB-INF/jsp/"
          p:suffix=".jsp" />

    
        

    <!--
    The index controller.
    -->
    <bean name="indexController"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController"
          p:viewName="index" />
    
    
    <!--
        The access controller.
    -->
    <bean name="accessController"
          class="com.povodev.hemme.rest.AccessController" />
    
    <!--
        The clinical event controller.
    -->
    <bean name="clinicalEventController"
          class="com.povodev.hemme.rest.ClinicalEventController" />
    
    <!--
        The clinical folder controller.
    -->
    <bean name="clinicalFolderController"
          class="com.povodev.hemme.rest.ClinicalFolderController" />
    
    <!--
        The diary controller.
    -->
    <bean name="diaryController"
          class="com.povodev.hemme.rest.DiaryController" />
    
    <!--
        The doctor controller.
    -->
    <bean name="doctorController"
          class="com.povodev.hemme.rest.DoctorController" />
    
    <!--
        The document controller.
    -->
    <bean name="documentController"
          class="com.povodev.hemme.rest.DocumentController" />
    
    <!--
        The HasDp controller.
    -->
    <bean name="hasDpController"
          class="com.povodev.hemme.rest.HasDpController" />
    
    <!--
        The hasTp controller.
    -->
    <bean name="hasTpController"
          class="com.povodev.hemme.rest.HasTpController" />
    
    <!--
        The patient controller.
    -->
    <bean name="patientController"
          class="com.povodev.hemme.rest.PatientController" />
    
    <!--
        The result controller.
    -->
    <bean name="resultController"
          class="com.povodev.hemme.rest.ResultController" />
    
    <!--
        The test controller.
    -->
    <bean name="testController"
          class="com.povodev.hemme.rest.TestController" />
    
    <!--
        The tutor controller.
    -->
    <bean name="tutorController"
          class="com.povodev.hemme.rest.TutorController" />
    
    <!--
        The user controller.
    -->
    <bean name="userController"
          class="com.povodev.hemme.rest.UserController" />
    
</beans>